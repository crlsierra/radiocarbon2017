<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Modeling Lab - Radiocarbon in the Earth System 2017</title>
	<meta name="description" content="">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta property="og:image" content="">
	<link rel="shortcut icon" href="/assets/img/favicon/favicon.ico" type="image/x-icon">
	<link rel="apple-touch-icon" href="/assets/img/favicon/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicon/apple-touch-icon-114x114.png">
	<!-- Chrome, Firefox OS and Opera -->
	<meta name="theme-color" content="#311e3e">
	<!-- Windows Phone -->
	<meta name="msapplication-navbutton-color" content="#311e3e">
	<!-- iOS Safari -->
	<meta name="apple-mobile-web-app-status-bar-style" content="#311e3e">
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="/assets/fonts/font-awesome/css/font-awesome.min.css">
	<!-- Styles -->
	<link rel="stylesheet" href="/assets/css/main.css">
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/.min.css">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>        
<!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
-->
</head>

<body>
  <div class="flex-container">
  <header class="main-header">
  <div class="wrapper">
    <div class="header-flex">
      <div class="menu-icon-container">
        <span class="menu-icon"><i class="fa fa-bars" aria-hidden="true"></i></span>
      </div>
      <nav class="main-nav">
        <span class="menu-icon-close"><i class="fa fa-times" aria-hidden="true"></i></span>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/instructors">Instructors</a></li>
          <li><a href="/logistics">Logistics</a></li>
          <li><a href="/program">Program</a></li>
        </ul>
      </nav>
      <p class="logo"><a href="/">Radiocarbon in the Earth System 2017</a></p>
      <div class="search-icon-container">
        <span class="search-icon"><a><i class="fa fa-search" aria-hidden="true"></i></a></span>
      </div>
    </div>
  </div>
</header> <!-- End Header -->

  <div class="content wrapper">
    <h1 id="modeling-radiocarbon-in-earth-system-reservoirs-practical-exercise">Modeling radiocarbon in Earth system reservoirs: practical exercise</h1>

<p>The objective of this practical exercise is to get you familiar with computational tools in the <a href="ihttps://www.r-project.org/">R</a> programming language to model radiocarbon dynamics in reservoir models. 
We will use the <a href="https://github.com/MPIBGC-TEE/SoilR-exp">SoilR</a> package for this purpose.
Although this package and some of the examples are applied to soil organic matter models, the tools can actually be applied to any model that represents the movement of matter (e.g. carbon) across reservoirs. These type of models are generally known as compartment or reservoir models.</p>

<p>To complete this assignment, you only need to be familiar with the very basics of using R. No previous knowledge on the SoilR package is required. I also assume you already have R installed in your computer.</p>

<h2 id="install-the-latest-version-of-soilr">Install the latest version of SoilR</h2>

<p>Open R and type the following commands:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">install.packages</span><span class="p">(</span><span class="s2">"devtools"</span><span class="p">)</span><span class="w">
</span><span class="n">devtools</span><span class="o">::</span><span class="n">install_github</span><span class="p">(</span><span class="s1">'MPIBGC-TEE/SoilR-exp/pkg'</span><span class="p">)</span></code></pre></figure>

<p>This will install the latest version of SoilR in your computer, which we will need to complete part of the exercise.</p>

<p>In case you get an error message telling you there are missing packages, install those packages first, and then try install SoilR again.</p>

<h2 id="run-soilr-radiocarbon-tutorials">Run SoilR radiocarbon tutorials</h2>
<p>I prepared three separate tutorials for this class that will get you familiar on how to run radiocarbon models. These tutorials reproduce some of the examples I presented during the lecture. Follow the tutorials in this order:</p>

<ul>
  <li><strong>Introduction to radiocarbon models</strong>: You find this tutorial in the following site: <a href="http://www.bgc-jena.mpg.de/TEE/basics/2015/12/29/Radiocarbon-models/">http://www.bgc-jena.mpg.de/TEE/basics/2015/12/29/Radiocarbon-models/</a></li>
  <li><strong>Multiple-pool radiocarbon models</strong>: You find this tutorial in the following site: <a href="http://www.bgc-jena.mpg.de/TEE/basics/2015/12/30/Multiple-Pool-Radiocarbon/">http://www.bgc-jena.mpg.de/TEE/basics/2015/12/30/Multiple-Pool-Radiocarbon/</a></li>
  <li><strong>Ages and transit times in linear models</strong>: You find this tutorial in the following site: <a href="http://www.bgc-jena.mpg.de/TEE/basics/2015/12/30/Ages-Transit-Times/">http://www.bgc-jena.mpg.de/TEE/basics/2015/12/30/Ages-Transit-Times/</a></li>
</ul>

<h2 id="assignment">Assignment</h2>
<p>Now that you are already familiar with SoilR, and the concepts of pool models, ages, and transit times, work on the following problems.</p>

<ul>
  <li>Take the three model structures (parallel, series, feedback) from the tutorial <a href="http://www.bgc-jena.mpg.de/TEE/basics/2015/12/30/Multiple-Pool-Radiocarbon/">Multiple-pool radiocarbon models</a> and run simulations until the year 2100 using the four atmospheric radiocarbon <a href="/assets/data/C14RCPscenarios.csv">scenarios (RCP2.6, RCP4.5, RCP6.0, and RCP8.5)</a> described in <a href="http://www.pnas.org/content/112/31/9542.abstract">Graven et al. 2015</a>. For this you would need to bind the Hua2013 atmospheric curve with the new four different curves. Compare the behavior of radiocarbon for the different pools and the radiocarbon in respired CO<sub>2</sub> for the different scenarios.</li>
  <li>Run a new set of simulations in which all rates increase by a factor of 10% per year from the year 1990 to 2100. Compare the behavior of radiocarbon in the different pools and the respired CO<sub>2</sub>.</li>
  <li>Take the three model structures (parallel, series, feedback) from the tutorial <a href="http://www.bgc-jena.mpg.de/TEE/basics/2015/12/30/Multiple-Pool-Radiocarbon/">Multiple-pool radiocarbon models</a> and calculate the mean system ages, mean pool ages, and mean transit times for each of them. For this you will need to write the matrix \(\bf A\) and the vector \(\bf u\) for each of them and then apply the functions <em>systemAge</em> and <em>transitTime</em>.</li>
  <li>Plot the system age, pool age, and transit time density functions for each of the model structures. Compare the results for the different model structures. Discuss your results.</li>
</ul>

  <div class="search-box">
  <div class="wrapper">
    <div class="search-grid">
      <form class="search-form">
        <div id="search-container">
          <input type="text" id="search-input" class="search" placeholder="Search">
        </div>
      </form>
      <ul id="results-container" class="results-search"></ul>
      <div class="icon-close-container">
        <span class="search-icon-close"><i class="fa fa-times" aria-hidden="true"></i></span>
      </div>
    </div>
  </div>
</div>

  <div class="pagination clearfix">
  
  
</div>

  </div> <!-- End Wrapper -->
  <footer class="main-footer">
  <div class="copyright">
    <p>2017 &copy; Max Planck Institute for Biogeochemistry</p>
  </div>
</footer> <!-- End Footer -->

</div>

  <!-- JS -->
<script src="/assets/js/jquery-3.2.1.min.js"></script>
<script src="/assets/js/jekyll-search.js"></script>
<script>
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    json: '/search.json',
    searchResultTemplate: '<li><a href="{url}" title="{desc}">{title}</a></li>',
    noResultsText: 'No results found',
    fuzzy: false,
    exclude: ['Welcome']
  });
</script>
<script src="/assets/js/main.js"></script>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', '', 'auto');
  ga('send', 'pageview');
</script> <!-- End Analytics -->

</body>
</html>
